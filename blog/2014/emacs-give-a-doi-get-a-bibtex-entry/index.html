<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Emacs: give a DOI, get a BibTeX entry | Pavel Iosad</title>
	
	<link rel="stylesheet" href="/css/academicons.css">
	<link rel="stylesheet" href="/css/kube.css">
	<link rel="stylesheet" href="/css/demo.css">
	<link href="https://fonts.googleapis.com/css?family=Old+Standard+TT" rel="stylesheet">
 	<link href="https://fonts.googleapis.com/css?family=Alegreya+SC:400&subset=latin,latin-ext" rel="stylesheet" type="text/css">
	<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Lora:400&subset=cyrillic" rel="stylesheet" type="text/css">
	
    <link href="" rel="alternate" type="application/rss+xml" title="Pavel Iosad">
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@anghyflawn" />
    <meta name="twitter:title" content="Emacs: give a DOI, get a BibTeX entry" />
    
    <meta name="twitter:description" content="One of my enduring frustrations with the various academic publishing platforms (CJO, ScienceDirect, JSTOR and their ilk) is the wildly inconsistent way in which they export BibTeX entries for articles. Sometimes they put them right on the browser page for easy copy-and-paste; sometimes it comes up after a few clicks in a new window; sometimes you end up downloading a file with an impossibly long or counterintuitive name, or called something like science." />
    
    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script src="https://youcanbook.me/resources/scripts/ycbm.modal.js"></script>
    <link rel="stylesheet" href="https://youcanbook.me/resources/css/simplemodal/simplemodal.css" type="text/css"/>
</head>


<body>
<div id="topbar">
<div class="wrapper">
	<header>
		<nav class="navbar">
			<ul>
				<li class="hd"><a href="https://www.anghyflawn.net"><b>Pavel Iosad</b></a></li>
				<li><a href="https://www.anghyflawn.net/writing">Writing</a></li>
				<li><a href="https://www.anghyflawn.net/presentation">Presentations</a></li>
				<li><a href="https://www.anghyflawn.net/teaching">Teaching</a></li>
				<li><span><a href="https://www.anghyflawn.net/blog">Blog</a></span></li>
				<li><a href="#searchsite">Search</a></li>
				<li><a href="#about">About</a></li>
			</ul>
		</nav>
	</header>
</div>
</div>

<div class="wrapper">
<div class="units-row">		
<div class="unit-20">&nbsp;</div>
<div class="unit-60"><h2><a href="">Emacs: give a DOI, get a BibTeX entry</a></h2></div>
</div>
<div class="units-row">		
<div class="unit-20 dateblock"><h4>April 22, 2014</h4></div>
<div class="unit-60">
<p>One of my enduring frustrations with the various academic publishing platforms (CJO, ScienceDirect, JSTOR and their ilk) is the wildly inconsistent way in which they export BibTeX entries for articles. Sometimes they put them right on the browser page for easy copy-and-paste; sometimes it comes up after a few clicks in a new window; sometimes you end up downloading a file with an impossibly long or counterintuitive name, or called something like <code>science.bib</code> (which Chrome tends to turn into <code>science (14).bib</code> as they accumulate). Since I really only need the BibTeX entry once to get into my master <code>.bib</code> file, that is a waste of time and resources. So if you&rsquo;re using Emacs, here&rsquo;s a simple function which might be helpful</p>

<pre><code class="language-elisp">(defun get-bibtex-from-doi (doi)
 &quot;Get a BibTeX entry from the DOI&quot;
 (interactive &quot;MDOI: &quot;)
 (let ((url-mime-accept-string &quot;text/bibliography;style=bibtex&quot;))
   (with-current-buffer 
     (url-retrieve-synchronously 
       (format &quot;http://dx.doi.org/%s&quot; 
       	(replace-regexp-in-string &quot;http://dx.doi.org/&quot; &quot;&quot; doi)))
     (switch-to-buffer (current-buffer))
     (goto-char (point-max))
     (setq bibtex-entry 
     	  (buffer-substring 
          	(string-match &quot;@&quot; (buffer-string))
              (point)))
     (kill-buffer (current-buffer))))
 (insert (decode-coding-string bibtex-entry 'utf-8))
 (bibtex-fill-entry))
</code></pre>

<p>This will ask you for the DOI (you can keep the <code>http://dx.doi.org/</code> bit that you get if you do &lsquo;Copy Link Address&rsquo; from the browser), pull the BibTeX entry via the DOI API, and insert it at point. (I&rsquo;m assuming the buffer is in <code>bibtex-mode</code> already, since it doesn&rsquo;t really make sense for it not to be.) Put this in your <code>init.el</code> and you can now do <code>M-x get-bibtex-from-doi</code>, or bind it to a keychord of your choice. The entry might still need fiddling with (e.g. to fix the citekey in line with your scheme, or to remove the Unicode characters if need be), but hopefully this might be useful.</p>


</div>
	
</div>

<div class="units-row">
<hr>

	<div class="unit-40" style="text-align:right;">
		
			<a href="https://www.anghyflawn.net/blog/2014/a-nynorsk-for-scotland/"> &larr;&nbsp;A nynorsk for Scotland?</a>
		
	</div>
	<div class="unit-20" style="text-align:center;">
		|&nbsp;
		<a href="https://www.anghyflawn.net/blog/">Blog archive</a>
		&nbsp;|
	</div>
	<div class="unit-35" style="text-align:left;">
		
			<a href="https://www.anghyflawn.net/blog/2014/getting-ess-and-auctex-to-play-nicely-with-knitr/">Getting ESS and AUCTeX to play nicely with knitr&nbsp;&rarr;</a>
		
	</div>
</div>

<div class="units-row">
	<div class="unit-20">&nbsp;</div>
	<div class="unit-60">
		<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'anghyflawn';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

	</div>
	<div class="unit-20">&nbsp;</div>
</div>


</div>

<hr class="separator">

<div class="wrapper" style="font-size: 0.9em; line-height: 1.05em;">
<div class="units-row units-padding">		
<div class="unit-40">
    <h3><a id="about">About me</a></h3>

    <img src="https://www.anghyflawn.net/images/photo.jpg" style="float: left; padding: 0px 20px 20px 0px;" width="30%">

<p>I&rsquo;m <em>Pavel Iosad</em>, and Iâ€™m a Senior Lecturer in the department of <a href="http://www.lel.ed.ac.uk">Linguistics and English Language</a> at the <a href="http://www.ed.ac.uk">University of Edinburgh</a>. &para; You can always go to the <a href="https://www.anghyflawn.net">start page</a> to learn more.</p>
</div>
<div class="unit-30">
<h3>elsewhere</h3>
<ul class="compact fa-ul">
<li><i class="fa-li fa fa-university fa-fw" style="color:#030922;font-size:80%;padding-top:6px;"></i>Linguistics and English Language, The University of Edinburgh, Dugald Stewart Building, 3 Charles Street, Edinburgh EH8 9AD, Scotland.</li>
<li><i class="fa-li fa fa-envelope fa-fw" style="color:#030922;font-size:80%;padding-top:6px;"></i><a href="mailto:pavel.iosad@ed.ac.uk">pavel.iosad@ed.ac.uk</a></li>
<li><i class="fa-li fa fa-twitter-square fa-fw" style="color:#030922;font-size:80%;padding-top:6px;"></i><a href="http://twitter.com/anghyflawn">@anghyflawn</a> on Twitter.</li>
<li><i class="fa-li fa fa-github fa-fw" style="color:#030922;font-size:80%;padding-top:6px;"></i><a href="http://github.com/anghyflawn">@anghyflawn</a> on Github.</li>
<li><i class="fa-li fa fa-newspaper-o fa-fw" style="color:#030922;font-size:80%;padding-top:6px;"></i><a href="https://hcommons.org/members/piosad">Humanities Commons</a></li>
<li><i class="fa-li ai ai-google-scholar-square fa-fw" style="color:#030922;font-size:80%;padding-top:6px;"></i><a href="https://scholar.google.co.uk/citations?user=5V7WbM4AAAAJ">Google Scholar</a></li>
<li><i class="fa-li ai ai-orcid fa-fw" style="color:#030922;font-size:80%;padding-top:6px;"></i><a href="http://orcid.org/0000-0002-9200-6682">ORCID</a> </li>
<li><i class="fa-li fa fa-user fa-fw" style="color:#030922;font-size:80%;padding-top:6px;"></i><a href="http://www.research.ed.ac.uk/portal/en/persons/pavel-iosad(976edf38-f950-4179-a032-a6cea4b31b3b).html">Edinburgh Research Explorer</a></li>
<li><i class="fa-li fa fa-key fa-fw" style="color:#030922;font-size:80%;padding-top:6px;"></i><a href="https://keybase.io/piosad">Keybase.io</a>, or my <a href="https://pgp.mit.edu/pks/lookup?op=get&search=0x9E3233169F4529D3">PGP key</a></li>
</ul>
</div>
<div class="unit-30">
				<h3>Updates</h3>
				<p>Subscribe to the <a href="https://www.anghyflawn.net/index.xml"><i class="fa fa-rss-square" style="color:#030922;"></i>&nbsp;RSS feed</a>, or follow me on Twitter at <a href="http://twitter.com/anghyflawn"><i class="fa fa-twitter-square" style="color:#030922;"></i>&nbsp;@anghyflawn</a>.</p>
				<h3>Search</h3>
				<a id="searchsite">
					<form method="get" action="http://duckduckgo.com/">
				<input type="search" name="q" maxlength="255" placeholder="Search the site">
			<input type="hidden" name="sites" value="www.anghyflawn.net"/>
			   <input type="hidden" name="ka" value="Alegreya"/>
			   <input type="hidden" name="k7" value="#faf8f8"/>
			   <input type="hidden" name="kj" value="#b33"/>
			   <input type="hidden" name="ky" value="#fafafa"/>
			   <input type="hidden" name="kx" value="b"/>
			   <input type="hidden" name="ko" value="-1"/>
			   <input type="hidden" name="k1" value="-1"/>
			   <input type="hidden" name="kt" value="Alegreya Sans"/>
			   <input type="submit" value="DuckDuckGo Search" style="visibility: hidden;" /></form></a>
			</div>
		</div>
	</div>
</div>



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-23884900-1', 'auto');
  ga('send', 'pageview');

</script>


<footer id="footer">
<section class="wrapper small">
	<div style="float:left;">
		Made with <a href="http://gohugo.io">Hugo</a>
	</div>
	<div style="float:right;">
		<a rel="license" href="https://creativecommons.org/licenses/by/4.0/">
			<img alt="Creative Commons License" 
				style="border-width:0" src="http://i.creativecommons.org/l/by/4.0/88x31.png">
		</a>
	</div>
</section>
</footer>

</body>
</html>


